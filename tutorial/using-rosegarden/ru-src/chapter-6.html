<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.2  (Linux)">
	<META NAME="CREATED" CONTENT="20040613;311800">
	<META NAME="CHANGED" CONTENT="20041008;14432700">
	<STYLE>
	<!--
		@page { size: 8.5in 11in }
		H2.western { font-family: "Albany", sans-serif; font-size: 14pt; font-style: italic }
		H2.cjk { font-family: "HG Mincho Light J"; font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Arial Unicode MS"; font-size: 14pt; font-style: italic }
		H3.western { font-family: "Albany", sans-serif }
		H3.cjk { font-family: "HG Mincho Light J" }
		H3.ctl { font-family: "Arial Unicode MS" }
		H4.western { font-family: "Albany", sans-serif; font-size: 11pt; font-style: italic }
		H4.cjk { font-family: "HG Mincho Light J"; font-size: 11pt; font-style: italic }
		H4.ctl { font-family: "Arial Unicode MS"; font-size: 11pt; font-style: italic }
		H5.western { font-family: "Albany", sans-serif; font-size: 11pt }
		H5.cjk { font-family: "HG Mincho Light J"; font-size: 11pt }
		H5.ctl { font-family: "Arial Unicode MS"; font-size: 11pt }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>Recording</H1>
<P STYLE="margin-bottom: 0.2in">There are three different ways to
record with Rosegarden. If you come from a MIDI background, the most
obvious thing to do is plug in your MIDI keyboard and hit the record
button to record a MIDI segment in the currently-selected track. If
audio is your aim, you'll want to set your mixer recording source and
get to work. On the other hand, if you have all the keyboard skill of
a paraplegic chipmunk, like I do, you might be more interested in
step recording.</P>
<P STYLE="margin-bottom: 0.2in">I will cover step recording later on.
For now my focus is on recording operations that can be performed
from the main window.</P>
<H2 CLASS="western">Recording MIDI</H2>
<P>You can record MIDI from any source that Rosegarden recognizes as
a record device, as I mentioned in some detail in <A HREF="chapter-4.html#4_2_2">Chapter
4</A>.</P>
<P>To recap briefly, click the 
<IMG SRC="../pixmaps/studio-icon.png" NAME="Graphic5" ALIGN=BOTTOM WIDTH=31 HEIGHT=24 BORDER=0>
icon to have a look at your current studio, then look at the &quot;Record
devices&quot; section of the dialog. Any inputs you have available
will appear in this list, and you may set any number of them as
active recording sources by toggling the &quot;Current&quot;
checkboxes for each of them. In this example, I have both the
external MIDI port on my soundcard and Virtual Keyboard available,
and marked as active.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/studio-record-devices.png" NAME="Graphic17" ALIGN=BOTTOM WIDTH=380 HEIGHT=77 BORDER=0></P>
<H3 CLASS="western">Create a MIDI Track</H3>
<P>You most likely already have plenty of MIDI tracks, but it bears
mentioning for the sake of completeness that you must route a track's
output to a MIDI or synth plugin device in order for that track to
become a MIDI track, and therefore capable of serving as a
destination for MIDI recording operations. Please review <A HREF="chapter-5.html">Chapter
5</A> if you have any questions about instrument assignment.</P>
<H2 CLASS="western">Recording Audio</H2>
<P>Audio recording is considerably more involved than MIDI, but it
can become second nature after a bit of practice getting everything
in order beforehand.</P>
<H3 CLASS="western">Set a New Audio Path!</H3>
<P>If you wish to record audio, the first thing you should do is
create a new directory for the files, and set the audio record path
for this composition to that directory via <B>Composition -&gt; Edit
Document Properties -&gt; Audio</B>. This dialog also shows you how
much space you have remaining on the target storage device (eg. hard
disk), and estimates how much room you have to store audio files.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/recording-new-audio-path.png" NAME="Graphic7" ALIGN=BOTTOM WIDTH=380 HEIGHT=105 BORDER=0></P>
<P>Rosegarden writes files with names like &quot;RG-AUDIO-00001.wav&quot;
to this directory. Every botched take, every empty recording where
you got the mixer set wrong, every goof in the world will get a new
filename with a new number. If you don't sort your audio files into
directories grouped by project, you'll eventually wind up with a
horrible mess to sort out, with little choice but to audition each
and every one of them to find out what is what. Discipline in
remembering to choose a new audio path for each new project really
pays off in the long run avoiding this problem. (Don't ask me how I
know this.)</P>
<H3 CLASS="western">Create an Audio Track</H3>
<P>You may already have audio tracks, but in the event that you
don't, merely route a track to an instrument belonging to the Audio
device, as described in <A HREF="chapter-5.html">Chapter 5.</A></P>
<H3 CLASS="western">Configure the Mixer</H3>
<P>If you want to record audio, you need an audio source available,
and you need to configure your mixer to record from this source.
Getting everything tweaked up in order to achieve the desired results
can actually be quite involved; especially if you happen to have a
Sound Blaster Live! or similar card. As that is the card I have in
this machine, and it is also the most ridiculously complicated
monstrosity I have ever seen, I will talk about the Sound Blaster
Live! here. These concepts should apply in a general way to other
hardware, but I can't possibly describe the myriad available
soundcards in detail.</P>
<P STYLE="font-style: normal">[pre-publication note: I hope to buy a
mAudio Audiophile 2496 soon, and I will document that as well. I'm
accepting donations if anyone wants to hasten my acquisition of this
item. (Contact me for details.) I've been working on this book for
almost two years now, in addition to working on Rosegarden itself and
helping the user community directly on rosegarden-user. Some of you
out there don't have a wife and two kids, a mortgage, car payments,
debt out the wazoo, etc. and can spare a few bucks. It would
definitely not be inappropriate for someone to pony up and help me
buy one of these things so I can write about it. I'd really like to
have an example from both the amateur and the pro sides of the aisle.
Plus, of course, I want one for my own creative purposes as well.]</P>
<H4 CLASS="western">Capture vs. Playback</H4>
<P>Any soundcard worthy of serious consideration should be capable of
full duplex operation. This means it can play and record
simultaneously. In mixer terms, the recording side is configured via
the <B>Capture</B> tab.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/mastering-capture-emu-ext.png" NAME="Graphic8" ALIGN=BOTTOM WIDTH=380 HEIGHT=163 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">On the Sound Blaster Live!,
there are a variety of capture options. The &quot;Capture&quot;
slider controls the overall capture level. To record the on-board Emu
synth, activate the &quot;Music Capture.&quot; To record other audio
streams that JACK might be playing, activate the &quot;Wave Capture.&quot;
The remaining capture options are all associated with the &quot;AC97
Capture&quot; slider. This can be used to record from a microphone
(&quot;Mic&quot;) or from a line level audio source such as an
external mixer, a guitar effects box, an external synth, or the like
(&quot;Line.&quot;) It can also be used to capture the entire mix
(&quot;Mix&quot;) and several other sources. Only one of these can be
selected at a time.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">Playback is configured via
the <B>Playback</B> and <B>Ext. Source Playback</B> tabs. On my Sound
Blaster Live!, the &quot;Master&quot; and &quot;PCM&quot; sliders are
completely useless. I think perhaps it might be due to my using the
coaxial digital out to connect to a cheap home theater. Everything on
the <B>Ext. Source Playback</B> tab is useless except &quot;AC97,&quot;
which plays whatever that source is capturing.</P>
<P ALIGN=LEFT><IMG SRC="../pixmaps/recording-mixer-playback.png" NAME="Graphic9" ALIGN=BOTTOM WIDTH=380 HEIGHT=170 BORDER=0></P>
<P ALIGN=RIGHT><IMG SRC="../pixmaps/mastering-ext-src-playback.png" NAME="Graphic10" ALIGN=BOTTOM WIDTH=380 HEIGHT=163 BORDER=0></P>
<H4 CLASS="western">Mixing for Results</H4>
<P>There are too many possible ways to mix capture and recording to
describe them all. Getting the results you want comes down to
recording the guitar without unintentionally recording a permanent
mix of the guitar with the bass part you just recorded, or with a
MIDI part, or what have you. It's also important to avoid clipping.</P>
<H5 CLASS="western">Clipping</H5>
<P>One major concern when recording audio is clipping. In simple
terms, clipping occurs when you record at too high a level and
permanently clip the tops and bottoms off of the sampled wave form.
In this example, the green saw wave is comfortably within bounds, and
no clipping occurs. The red one has been clipped severely. Clipped
wave forms sound terrible. In the real world, it's rare to find
something as flat and even as this simple drawing, so it is quite
easy to wind up with a sample where the quiet to moderate passage are
perfectly fine, but the louder parts are grossly distorted.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/recording-clipping.png" NAME="Graphic11" ALIGN=BOTTOM WIDTH=380 HEIGHT=154 BORDER=0></P>
<P>Rosegarden and JACK avoid clipping by converting data into an
internal format with much more resolution than what can be stored to
disk. If you set a level too high on an audio track, for example, and
cause clipping, no permanent harm comes to the data until that data
is physically written out into a <B>.wav</B> file. However, since the
process of recording audio involves a continuous cycle of capturing a
snippet of data into a buffer and then flushing it out to disk once
that buffer is full, recording operations effectively involve an
immediate conversion of the data to a <B>.wav</B> file, even though
the Rosegarden interface insulates you from this fact.</P>
<P STYLE="font-weight: medium">What that means for you, is that it is
very important to check your levels before you lay down your best
licks. If your input gain is too high, permanent clipping can occur,
and your recording will sound horrible. I suggest that you do a
number of test recordings during each new session to verify that
everything is in order before sitting down to do any serious playing.
Try to play snippets at the same range of volume and intensity you
will use for the real recording to ensure you will avoid clipping off
your louder passages. If the level is too high, fiddle with, well,
pretty much everything until you have arrived at a satisfactory
combination of mixer settings and, for example, guitar volume to get
good results. A weak recording can be amplified, but a clipped
recording is ruined forever.</P>
<H5 CLASS="western">Other Unintended Consequences</H5>
<P>In addition to allowing for clipping, make sure everything else is
going to come out right before you start laying down the best licks
of your life, only to find you've just recorded them with the cheesy
metronome, or permanently mixed with the MIDI tracks that were
playing.. Microphone recordings are particularly troublesome, because
if you can hear the parts you're jamming along with, so can the
microphone. I find it useful to listen to the other parts with
headphones at such times, or to switch the transport to visual
metronome mode (as described in Chapter 2.) I can't imagine what sort
of equipment you have at your disposal, so I fear I really have to
leave the rest of this up to you to figure out.</P>
<P><BR><BR>
</P>
<H2 CLASS="western">Check Your Configuration</H2>
<P>Rosegarden can provide a count-in to give you an opportunity to
help you come in on the right beat. It defaults to two measures, but
you can change it via <B>Settings -&gt; Configure Rosegarden -&gt;
General -&gt; Behavior</B>.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/recording-count-in.png" NAME="Graphic1" ALIGN=BOTTOM WIDTH=380 HEIGHT=67 BORDER=0></P>
<H3 CLASS="western">The Finite Composition</H3>
<P ALIGN=LEFT>You should also be aware that Rosegarden compositions
are of a finite length, and they do not expand to accommodate
additional events if you attempt to record past the end of one. Once
the transport reaches the end, everything comes to a screeching halt.
This can be an extremely irritating buzz kill, and it has bitten me
innumerable times. My best grooves always seem to be the ones I
missed recording because I ran into the brick wall at the end of the
ride. In order to cope with this unfortunate design flaw, you must
anticipate how much room you need and expand the composition to a
suitable size beforehand, via <B>Composition -&gt; Change Composition
Duration.</B></P>
<P ALIGN=LEFT STYLE="font-weight: medium"><I>NOTE: Many of you have
written to complain about this behavior. I hate it just as much as
you do. We at Rosegarden don't need to hear any further complaints to
realize that everyone hates this. Please live with it for the time
being, and rest assured that a self-expanding composition is almost
certain to appear in the next release.</I></P>
<H4 CLASS="western">Audio Recording Time</H4>
<P>If you are recording audio, your total recording time will be the
greater of the composition duration, as determined by the tempo and
total number of measures, or the audio recording time limit you set
via <B>Settings -&gt; Configure Rosegarden -&gt; Sequencer -&gt;
Record and Mix</B></P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/recording-audio-limit.png" NAME="Graphic6" ALIGN=BOTTOM WIDTH=380 HEIGHT=131 BORDER=0></P>
<H2 CLASS="western">Play Something!</H2>
<P>From here, all you need to do to get the ball rolling for a normal
recording is hit a record button</P>
<P><IMG SRC="../pixmaps/recording-record-button.png" NAME="Graphic2" ALIGN=BOTTOM WIDTH=62 HEIGHT=36 BORDER=0>
on any of the various transports to start the transport rolling.</P>
<P>A dialog will appear to inform you of how much time you have
remaining from the point at which recording began until the end of
the composition, or until the audio recording limit is reached. If
the time is too short, see my notes in the previous section about
adjusting the composition duration and audio recording limit.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/recording-time-remaining.png" NAME="Graphic4" ALIGN=BOTTOM WIDTH=209 HEIGHT=116 BORDER=0></P>
<P>In this recording mode, playback will jump back by the number of
count-in measures you have configured. If the playback pointer was
rewound to the beginning of the composition, recording will begin
before the composition actually starts. If you have moved it to the
start of measure 6, for example, the playback pointer will jump back
to measure 4 (by default) and recording will actually begin at that
location. This is done so that you have no danger of losing notes if
you come in ahead of the selected start point. 
</P>
<H3 CLASS="western">Previews</H3>
<P>As you play, a red segment will emerge, and it will expand as you
go. If you are recording MIDI, and have segment previews turned on,
you will see a running preview of what you are recording.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/recording-running-preview.png" NAME="Graphic3" ALIGN=BOTTOM WIDTH=380 HEIGHT=32 BORDER=0></P>
<P ALIGN=LEFT>If you are recording audio, the preview won't appear
until after the recording has ended.</P>
<H2 CLASS="western">Punch In</H2>
<P>In addition to normal recording, you can start the transport
rolling and then punch in with the space bar.</P>
<H2 CLASS="western"><BR><BR>
</H2>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
</BODY>
</HTML>