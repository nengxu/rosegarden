
Rosegarden-4 v0.2.0
===================

Rosegarden-4 is a MIDI and audio sequencer and musical notation editor.
This is an pre-beta release of the application mainly intended for 
adventurous end users, developers and other interested parties.  It is
not yet really stable enough to even call beta quality so please bear
this in mind and keep an eye on the FAQ for known problems and workarounds:

  http://www.all-day-breakfast.com/rosegarden


Build requirements
------------------

The big requirement is KDE.  This program depends on the KDE 2.2 or KDE 3.x
development libraries and build for KDE 3.x as default.  Please look in the
INSTALL file for notes on how to build for KDE2.2.

Our code should compile with gcc-2.95 or gcc-3.0, although you may
find that KDE 2.2 won't easily compile with the latter.


Compiling from source
---------------------

If you obtained the source code from the SourceForge CVS repository:

  This application is packaged in the same way as most other KDE
  applications.  Please consult the "COMPILING" file found in the KDE
  source code for a description of how to compile code from CVS.

  You may wish to run one of the developers' configure scripts such as
  "gl_configure"; you will first need to change the Qt and KDE2 install
  paths in the script according to your setup.  The most important
  thing in the script is

    CXXFLAGS="-g3 -gstabs+ -fexceptions"

  before the call to "configure", as we use exceptions in the code.

  After configuring, run "make" and, if the compile succeeds, "make
  install".  (The pixmaps need to be installed to the global KDE
  directories before the application will run correctly.)


If you obtained the source code from a distribution tarball: 

  Just run 

    ./configure

  plus appropriate "--with-qt-dir=..." and "--prefix=..." options.
  Then proceed with "make" and "make install".


NOTE: The installation prefix should be the same as the one of your
KDE installation. However you can install to another directory, but
then you'll have to append it to your KDEDIRS variable. For instance :

KDEDIRS=/usr:/home/glaurent/rosegarden


Running the application
-----------------------

Just run the "rosegarden" application (found in the KDE bin directory
after installation, and also in the gui/ directory of the source tree).

IMPORTANT NOTE: The application will probably crash when you attempt
to open an editing window, if you haven't installed it properly (using
"make install") before you run it.  This will be fixed... some time.

To get the sequencer working properly, please read
docs/howtos/artsd-mcop-notes for instructions.  The sequencer process
is started automatically when the gui is started, provided it has been
correctly installed (by "make install") in the global KDE directories.

You can also "make uninstall" to uninstall the application if you
decide it's a waste of your time.


Notes for developers
--------------------

We are actively seeking developers who are interested in coding new
parts of the application, adding features, and fixing bugs.  See
docs/task_lists/0.2_planned_tasks.txt for some idea of the things
we're already thinking about doing for the next developer release.
Good ideas are also welcome.

Be warned that we intend to be fairly strict about code quality... as
far as that's possible, given the not always superb standards of our
own code.


Documentation
-------------

All the documentation we have is in the docs/ subdirectory.  Good
starting-points include:

  docs/howtos/artsd-mcop-notes.txt -- notes on how to get sound

  docs/code/global_design.txt -- which classes do what, more or less
  docs/data_struct/units.txt -- how we store pitch and time
  docs/data_struct/sets.txt -- some terminology explained

  docs/discussion/tasks_available.txt and
  docs/discussion/0.2_planned_tasks.txt -- ideas for what to do next


WARNING: Qt 2.3.x and Xft
-------------------------

If you are using Qt 2.3.x and have text font anti-aliasing switched
on, either in the KDE control panel or by exporting QT_XFT=true, you
may find that the Rosegarden notation views become pathologically slow
when rendering large quantities of music.

(The notation views are not especially quick anyway, but the symptom
of this particular problem is that the first staff on a multi-staff
view appears relatively quickly but the view almost grinds to a halt
as it renders subsequent staffs.)

This appears to be caused by a very naive implementation of Xft
support in Qt 2.3.0 which causes a linear traversal of a list of
font-related structures for all kinds of non-font-related drawing
operations; the length of the list is proportional to the number of
extant QPixmaps, and we may have thousands of those as we use one for
every note.

At the moment the only workaround we know of is not to use font
anti-aliasing with Rosegarden and Qt 2.3.0.  (You can switch off
anti-aliasing for a single application by unsetting the QT_XFT
environment variable before starting it from the command-line.)  If
font anti-aliasing is important to you, consider upgrading to
Qt3/KDE3, which has a much more intelligent implementation of Xft
support and is generally better anyway.


Authors and copyright
---------------------

* Rosegarden-4 is Copyright 2000-2002 Guillaume Laurent, Chris Cannam
  and Richard Bown.

* The moral right of Guillaume Laurent, Chris Cannam and Richard Bown
  to be identified as the authors of this work has been asserted.

* Parts of Rosegarden-4 are derived from Rosegarden 2.1, which is
  Copyright 1994 - 2001 Chris Cannam, Andrew Green, Richard Bown and
  Guillaume Laurent.

* For musical notation display Rosegarden-4 uses pixmaps derived from
  the Feta font, part of the Lilypond software (http://lilypond.org/)
  which is Copyright 1997 - 2001 Jan Nieuwenhuizen and Han-Wen Nienhuys.

* Other major contributors include Randall Farmer, Ron Kuris, and Hans
  Kieserman.  See AUTHORS for more details, and the individual source
  files for copyright attributions.

* The Rosegarden splash-screen image is from a 1900 postcard of Thornden
  Park at Syracuse University, Syracuse, NY, used with thanks to the
  staff of Syracuse University.

Rosegarden-4 is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or (at
your option) any later version.  See the file COPYING included with
this distribution for more information.

